<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prince Alex Airbnb - Uthiru, Nairobi | Your Home Away From Home</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@400;500;600&display=swap" rel="stylesheet">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Poppins', sans-serif; line-height: 1.6; color: #333; overflow-x: hidden; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        
        .navbar { position: fixed; top: 0; width: 100%; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); z-index: 1000; padding: 1rem 0; transition: all 0.3s ease; box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1); }
        .nav-container { max-width: 1200px; margin: 0 auto; padding: 0 20px; display: flex; justify-content: space-between; align-items: center; }
        .nav-logo h2 { font-family: 'Montserrat', sans-serif; color: #1a365d; font-size: 1.5rem; font-weight: 600; }
        .nav-logo span { color: #d4af37; font-size: 0.9rem; font-weight: 400; }
        .nav-menu { display: flex; align-items: center; gap: 2rem; }
        .nav-link { text-decoration: none; color: #333; font-weight: 500; transition: color 0.3s ease; position: relative; }
        .nav-link:hover, .nav-link.active { color: #d4af37; }
        .nav-link.active::after { content: ''; position: absolute; bottom: -5px; left: 0; width: 100%; height: 2px; background: #d4af37; }
        .login-btn { background: #d4af37; color: white !important; padding: 0.5rem 1.5rem; border-radius: 25px; transition: all 0.3s ease; }
        .login-btn:hover { background: #b8941f; transform: translateY(-2px); }
        
        .user-menu { position: relative; display: none; }
        .user-menu-btn { display: flex; align-items: center; gap: 0.5rem; background: #f8f9fa; border: 2px solid #e9ecef; border-radius: 25px; padding: 0.5rem 1rem; cursor: pointer; transition: all 0.3s ease; font-family: 'Poppins', sans-serif; font-weight: 500; color: #333; min-height: 44px; }
        .user-menu-btn:hover { background: #e9ecef; border-color: #d4af37; transform: translateY(-2px); }
        .user-menu-btn img { width: 32px; height: 32px; border-radius: 50%; object-fit: cover; }
        .dropdown-arrow { font-size: 0.8rem; transition: transform 0.3s ease; }
        .user-menu-btn:hover .dropdown-arrow { transform: rotate(180deg); }
        .user-dropdown { position: absolute; top: 100%; right: 0; background: white; border: 1px solid #e9ecef; border-radius: 10px; box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1); min-width: 200px; z-index: 1000; display: none; margin-top: 0.5rem; }
        .dropdown-item { display: flex; align-items: center; gap: 0.8rem; padding: 1rem; text-decoration: none; color: #333; transition: background-color 0.3s ease; border-bottom: 1px solid #f8f9fa; min-height: 44px; }
        .dropdown-item:hover { background: #f8f9fa; color: #d4af37; }
        .dropdown-item:last-child { border-bottom: none; }
        .item-icon { font-size: 1.2rem; width: 20px; text-align: center; }
        
        .hamburger { display: none; flex-direction: column; cursor: pointer; z-index: 1001; }
        .hamburger span { width: 25px; height: 3px; background: #333; margin: 3px 0; transition: 0.3s; }
        .hamburger.active span:nth-child(1) { transform: rotate(-45deg) translate(-5px, 6px); }
        .hamburger.active span:nth-child(2) { opacity: 0; }
        .hamburger.active span:nth-child(3) { transform: rotate(45deg) translate(-5px, -6px); }
        
        .hero { height: 100vh; background: linear-gradient(rgba(26, 54, 93, 0.7), rgba(26, 54, 93, 0.7)), url('https://images.unsplash.com/photo-1566665797739-1674de7a421a?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80') center/cover; display: flex; align-items: center; justify-content: center; text-align: center; color: white; }
        .hero-content h1 { font-size: 3.5rem; font-weight: 700; margin-bottom: 1.5rem; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5); }
        .hero-content p { font-size: 1.3rem; margin-bottom: 2rem; opacity: 0.9; max-width: 600px; }
        .cta-buttons { display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; }
        .cta-btn { display: inline-block; padding: 1rem 2rem; border-radius: 30px; text-decoration: none; font-weight: 600; font-size: 1rem; transition: all 0.3s ease; cursor: pointer; min-height: 44px; }
        .cta-btn.primary { background: #d4af37; color: white; }
        .cta-btn.primary:hover { background: #b8941f; transform: translateY(-3px); box-shadow: 0 10px 25px rgba(212, 175, 55, 0.3); }
        .cta-btn.secondary { background: rgba(255, 255, 255, 0.2); color: white; border: 2px solid white; }
        .cta-btn.secondary:hover { background: white; color: #1a365d; transform: translateY(-3px); }
        
        .features { padding: 5rem 0; background: white; }
        .features h2 { text-align: center; font-size: 2.5rem; font-weight: 600; color: #1a365d; margin-bottom: 3rem; }
        .features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; }
        .feature-card { text-align: center; padding: 2rem; border-radius: 15px; transition: all 0.3s ease; background: #f8f9fa; }
        .feature-card:hover { transform: translateY(-10px); box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1); background: white; }
        .feature-icon { font-size: 3rem; margin-bottom: 1.5rem; }
        .feature-card h3 { font-size: 1.3rem; font-weight: 600; color: #1a365d; margin-bottom: 1rem; }
        .feature-card p { color: #666; line-height: 1.7; }
        
        .rooms-preview { padding: 5rem 0; background: #f8f9fa; }
        .rooms-preview h2 { text-align: center; font-size: 2.5rem; font-weight: 600; color: #1a365d; margin-bottom: 1rem; }
        .rooms-preview p { text-align: center; color: #666; font-size: 1.1rem; margin-bottom: 3rem; max-width: 600px; margin-left: auto; margin-right: auto; }
        .rooms-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 2rem; margin-bottom: 3rem; }
        .room-card { background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08); transition: all 0.3s ease; }
        .room-card:hover { transform: translateY(-5px); box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15); }
        .room-image { height: 250px; overflow: hidden; position: relative; }
        .room-image img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease; }
        .room-card:hover .room-image img { transform: scale(1.1); }
        .room-content { padding: 1.5rem; }
        .room-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem; }
        .room-title { font-size: 1.3rem; font-weight: 600; color: #1a365d; }
        .room-price { font-size: 1.1rem; font-weight: 700; color: #d4af37; }
        .room-rating { display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem; }
        .stars { color: #ffc107; }
        .rating-text { color: #666; font-size: 0.9rem; }
        .room-features { display: flex; gap: 1rem; margin-bottom: 1.5rem; flex-wrap: wrap; }
        .room-feature { display: flex; align-items: center; gap: 0.3rem; color: #666; font-size: 0.9rem; }
        .view-btn { width: 100%; background: #d4af37; color: white; border: none; padding: 1rem; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; }
        .view-btn:hover { background: #b8941f; transform: translateY(-2px); }
        .view-all-btn { display: block; text-align: center; margin: 2rem auto 0; }
        
        .footer { background: #1a1a1a; color: white; padding: 3rem 0 1rem; }
        .footer-content { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin-bottom: 2rem; }
        .footer-section h3, .footer-section h4 { margin-bottom: 1rem; color: #d4af37; }
        .footer-section p, .footer-section li { margin-bottom: 0.5rem; opacity: 0.8; }
        .footer-section ul { list-style: none; }
        .footer-section a { color: white; text-decoration: none; opacity: 0.8; transition: opacity 0.3s ease; }
        .footer-section a:hover { opacity: 1; color: #d4af37; }
        .social-links { display: flex; gap: 1rem; margin-top: 1rem; }
        .social-links a { font-size: 1.5rem; transition: transform 0.3s ease; }
        .social-links a:hover { transform: scale(1.2); }
        .footer-bottom { text-align: center; padding-top: 2rem; border-top: 1px solid #333; opacity: 0.6; }
        .designer-credit { margin-top: 0.5rem; font-size: 0.9rem; }
        .designer-credit a { color: #d4af37; text-decoration: none; font-weight: 500; transition: all 0.3s ease; }
        .designer-credit a:hover { color: #b8941f; text-decoration: underline; }
        
        @media (max-width: 768px) { 
            .hamburger { display: flex; } 
            .nav-menu { 
                position: fixed; left: -100%; top: 70px; 
                flex-direction: column; background: white; 
                width: 100%; height: calc(100vh - 70px);
                text-align: center; transition: left 0.3s ease; 
                box-shadow: 0 10px 27px rgba(0, 0, 0, 0.1); 
                padding: 3rem 0; z-index: 1000;
                overflow-y: auto;
            } 
            .nav-menu.active { left: 0; } 
            .nav-menu .nav-link { 
                display: block; padding: 1rem 2rem; 
                border-bottom: 1px solid #f8f9fa; 
                transition: all 0.3s ease;
            }
            .nav-menu .nav-link:hover { 
                background: #f8f9fa; 
                transform: none; 
            }
            .nav-menu .user-menu { 
                margin-top: 2rem; 
                padding: 1rem 2rem;
                border-top: 1px solid #e9ecef;
            }
            .hero-content h1 { font-size: 2.5rem; } 
            .cta-buttons { flex-direction: column; align-items: center; } 
            .features-grid, .rooms-grid { grid-template-columns: 1fr; }
        }
        
        html { scroll-behavior: smooth; }
        @media (max-width: 768px) { button, .btn, .cta-btn, .nav-link, input[type="submit"], input[type="button"] { min-height: 44px; min-width: 44px; touch-action: manipulation; } body { font-size: 16px; -webkit-text-size-adjust: 100%; } }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h2>Prince Alex Airbnb</h2>
                <span>Uthiru, Nairobi</span>
            </div>
            <div class="nav-menu">
                <a href="index.html" class="nav-link active">Home</a>
                <a href="listings.html" class="nav-link">Rooms</a>
                <a href="about.html" class="nav-link">About</a>
                <a href="contact.html" class="nav-link">Contact</a>
                <a href="login.html" class="nav-link login-btn" id="login-nav-btn">Login</a>
                <div class="user-menu" id="user-menu" style="display: none;">
                    <button class="user-menu-btn" onclick="toggleUserMenu()">
                        <img id="user-avatar" src="images/prince-alex.png" alt="User Avatar">
                        <span id="user-name">Guest</span>
                        <span class="dropdown-arrow">▼</span>
                    </button>
                    <div class="user-dropdown" id="user-dropdown">
                        <a href="profile.html" class="dropdown-item">
                            <span class="item-icon">👤</span>
                            <span>My Profile</span>
                        </a>
                        <a href="listings.html" class="dropdown-item">
                            <span class="item-icon">🏠</span>
                            <span>Browse Rooms</span>
                        </a>
                        <a href="admin.html" class="dropdown-item">
                            <span class="item-icon">⚙️</span>
                            <span>Admin Dashboard</span>
                        </a>
                        <button onclick="logout()" class="dropdown-item" style="background: none; border: none; width: 100%; text-align: left; cursor: pointer;">
                            <span class="item-icon">🚪</span>
                            <span>Logout</span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="hamburger"><span></span><span></span><span></span></div>
        </div>
    </nav>

    <section class="hero">
        <div class="hero-content">
            <h1>Welcome to Prince Alex Airbnb</h1>
            <p>Experience comfort and hospitality in the heart of Uthiru, Nairobi. Your perfect home away from home awaits.</p>
            <div class="cta-buttons">
                <a href="listings.html" class="cta-btn primary">Book Your Stay</a>
                <a href="about.html" class="cta-btn secondary">Learn More</a>
            </div>
        </div>
    </section>

    <section class="features">
        <div class="container">
            <h2>Why Choose Prince Alex Airbnb?</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">🏠</div>
                    <h3>Comfortable Accommodation</h3>
                    <p>8 beautifully furnished rooms designed for your comfort and convenience in Uthiru, Nairobi.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">📍</div>
                    <h3>Prime Location</h3>
                    <p>Strategically located in Uthiru with easy access to Nairobi CBD and major attractions.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">💰</div>
                    <h3>Affordable Rates</h3>
                    <p>Competitive pricing in KES with transparent costs and no hidden fees.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🌟</div>
                    <h3>Exceptional Service</h3>
                    <p>Personalized service from Prince Alex and his team to make your stay memorable.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="rooms-preview">
        <div class="container">
            <h2>Our Beautiful Rooms</h2>
            <p>Choose from our collection of 8 comfortable and well-appointed rooms</p>
            <div class="rooms-grid" id="rooms-grid">
                <!-- Rooms will be loaded here -->
            </div>
            <a href="listings.html" class="cta-btn primary view-all-btn">View All Rooms</a>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Prince Alex Airbnb</h3>
                    <p>Your home away from home in Uthiru, Nairobi</p>
                    <div class="social-links">
                        <a href="#" aria-label="Facebook">📘</a>
                        <a href="#" aria-label="Instagram">📷</a>
                        <a href="#" aria-label="WhatsApp">📱</a>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="listings.html">Rooms</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contact Info</h4>
                    <p>📍 Uthiru, Nairobi, Kenya</p>
                    <p>📞 +254 717 384 875</p>
                    <p>✉️ princealexdigital@gmail.com</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Prince Alex Airbnb. All rights reserved.</p>
                <p class="designer-credit">Designed by <a href="https://www.princealex.pro" target="_blank" rel="noopener">Prince Alex Digital</a></p>
            </div>
        </div>
    </footer>

    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-storage-compat.js"></script>
    
    <script>
        const firebaseConfig = { apiKey: "AIzaSyAUNs3WYS2mkvPvzRDfhyZFUbP2XpZjDQg", authDomain: "retailflow-pos-11726.firebaseapp.com", projectId: "retailflow-pos-11726", storageBucket: "retailflow-pos-11726.firebasestorage.app", messagingSenderId: "309314798354", appId: "1:309314798354:web:30784c2b2e7e42168629cb" };
        let firebaseApp, auth, db, storage, currentUser;

        let roomsData = [];

        async function loadRoomsFromFirebase() {
            try {
                const roomsSnapshot = await db.collection('rooms').where('status', '==', 'available').orderBy('priority').get();
                roomsData = [];
                
                if (!roomsSnapshot.empty) {
                    roomsSnapshot.forEach(doc => {
                        roomsData.push({ id: doc.id, ...doc.data() });
                    });
                } else {
                    // Fallback to default rooms if Firebase collection is empty
                    roomsData = [
                        { id: 1, name: 'Deluxe Suite', price: 4500, type: 'suite', rating: 4.8, reviews: 24, image: 'https://images.unsplash.com/photo-1631049307264-da0ec9d70304?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80', features: ['🛏️ King Bed', '❄️ AC', '📶 WiFi'] },
                        { id: 2, name: 'Executive Room', price: 3800, type: 'double', rating: 4.6, reviews: 18, image: 'https://images.unsplash.com/photo-1618773928121-c32242e63f39?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80', features: ['🛏️ Queen Bed', '❄️ AC', '📶 WiFi'] },
                        { id: 3, name: 'Standard Room', price: 3200, type: 'single', rating: 4.5, reviews: 15, image: 'https://images.unsplash.com/photo-1566665797739-1674de7a421a?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80', features: ['🛏️ Single Bed', '❄️ AC', '📶 WiFi'] }
                    ];
                }
                
                console.log(`🏠 Loaded ${roomsData.length} available rooms`);
                
            } catch (error) {
                console.error('Error loading rooms from Firebase:', error);
                // Use fallback default rooms
                roomsData = [
                    { id: 1, name: 'Deluxe Suite', price: 4500, type: 'suite', rating: 4.8, reviews: 24, image: 'https://images.unsplash.com/photo-1631049307264-da0ec9d70304?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80', features: ['🛏️ King Bed', '❄️ AC', '📶 WiFi'] },
                    { id: 2, name: 'Executive Room', price: 3800, type: 'double', rating: 4.6, reviews: 18, image: 'https://images.unsplash.com/photo-1618773928121-c32242e63f39?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80', features: ['🛏️ Queen Bed', '❄️ AC', '📶 WiFi'] },
                    { id: 3, name: 'Standard Room', price: 3200, type: 'single', rating: 4.5, reviews: 15, image: 'https://images.unsplash.com/photo-1566665797739-1674de7a421a?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80', features: ['🛏️ Single Bed', '❄️ AC', '📶 WiFi'] }
                ];
            }
        }

        function initializeFirebase() {
            if (typeof firebase !== 'undefined') {
                firebaseApp = firebase.initializeApp(firebaseConfig);
                auth = firebase.auth();
                db = firebase.firestore();
                storage = firebase.storage();
                auth.onAuthStateChanged((user) => {
                    currentUser = user;
                    updateNavigationForAuthState(user);
                });
                return true;
            }
            return false;
        }

        function updateNavigationForAuthState(user) {
            const loginBtn = document.getElementById('login-nav-btn');
            const userMenu = document.getElementById('user-menu');
            
            if (user) {
                if (loginBtn) loginBtn.style.display = 'none';
                if (userMenu) {
                    userMenu.style.display = 'block';
                    const userName = document.getElementById('user-name');
                    const userAvatar = document.getElementById('user-avatar');
                    if (userName) {
                        const displayName = user.displayName || 'User';
                        userName.textContent = displayName.split(' ')[0];
                    }
                    if (userAvatar && user.photoURL) {
                        userAvatar.src = user.photoURL;
                    }
                }
            } else {
                if (loginBtn) loginBtn.style.display = 'inline-block';
                if (userMenu) userMenu.style.display = 'none';
            }
        }
        
        function toggleUserMenu() {
            const dropdown = document.getElementById('user-dropdown');
            if (dropdown) {
                dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
            }
        }
        
        async function logout() {
            try {
                await auth.signOut();
                showNotification('👋 Successfully logged out', 'success');
                setTimeout(() => window.location.href = 'index.html', 1000);
            } catch (error) {
                console.error('Logout error:', error);
                showNotification('Error logging out. Please try again.', 'error');
            }
        }

        function initializeMobileNavigation() {
            const hamburger = document.querySelector('.hamburger');
            const navMenu = document.querySelector('.nav-menu');
            const body = document.body;
            
            if (hamburger && navMenu) {
                // Hamburger click handler
                hamburger.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const isActive = navMenu.classList.contains('active');
                    
                    if (isActive) {
                        closeMobileMenu();
                    } else {
                        openMobileMenu();
                    }
                });
                
                // Close menu when clicking nav links
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.addEventListener('click', () => {
                        closeMobileMenu();
                    });
                });
                
                // Close menu when clicking outside
                document.addEventListener('click', function(event) {
                    if (!hamburger.contains(event.target) && !navMenu.contains(event.target)) {
                        closeMobileMenu();
                    }
                    
                    // Also handle user menu dropdown
                    const userMenu = document.getElementById('user-menu');
                    const dropdown = document.getElementById('user-dropdown');
                    if (userMenu && dropdown && !userMenu.contains(event.target)) {
                        dropdown.style.display = 'none';
                    }
                });
                
                // Close menu on escape key
                document.addEventListener('keydown', function(event) {
                    if (event.key === 'Escape') {
                        closeMobileMenu();
                        const dropdown = document.getElementById('user-dropdown');
                        if (dropdown) dropdown.style.display = 'none';
                    }
                });
                
                // Handle window resize
                window.addEventListener('resize', function() {
                    if (window.innerWidth > 768) {
                        closeMobileMenu();
                    }
                });
            }
        }
        
        function openMobileMenu() {
            const hamburger = document.querySelector('.hamburger');
            const navMenu = document.querySelector('.nav-menu');
            const body = document.body;
            
            if (hamburger && navMenu) {
                navMenu.classList.add('active');
                hamburger.classList.add('active');
                body.style.overflow = 'hidden';
                
                // Add backdrop
                if (!document.querySelector('.mobile-backdrop')) {
                    const backdrop = document.createElement('div');
                    backdrop.className = 'mobile-backdrop';
                    backdrop.style.cssText = `
                        position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
                        background: rgba(0, 0, 0, 0.5); z-index: 999; 
                        backdrop-filter: blur(2px);
                    `;
                    backdrop.addEventListener('click', closeMobileMenu);
                    document.body.appendChild(backdrop);
                }
            }
        }
        
        function closeMobileMenu() {
            const hamburger = document.querySelector('.hamburger');
            const navMenu = document.querySelector('.nav-menu');
            const body = document.body;
            const backdrop = document.querySelector('.mobile-backdrop');
            
            if (hamburger && navMenu) {
                navMenu.classList.remove('active');
                hamburger.classList.remove('active');
                body.style.overflow = 'auto';
                
                if (backdrop) {
                    backdrop.remove();
                }
            }
        }

        async function loadRooms() {
            // Load rooms from Firebase first
            if (db) {
                await loadRoomsFromFirebase();
            }
            
            const roomsGrid = document.getElementById('rooms-grid');
            roomsGrid.innerHTML = '';
            roomsData.slice(0, 3).forEach(room => {
                const roomCard = document.createElement('div');
                roomCard.className = 'room-card';
                roomCard.innerHTML = `
                    <div class="room-image">
                        <img src="${room.image}" alt="${room.name}">
                    </div>
                    <div class="room-content">
                        <div class="room-header">
                            <h3 class="room-title">${room.name}</h3>
                            <div class="room-price">KES ${room.price.toLocaleString()}/night</div>
                        </div>
                        <div class="room-rating">
                            <span class="stars">${'★'.repeat(Math.floor(room.rating))}☆</span>
                            <span class="rating-text">${room.rating} (${room.reviews} reviews)</span>
                        </div>
                        <div class="room-features">
                            ${room.features.map(feature => `<span class="room-feature">${feature}</span>`).join('')}
                        </div>
                        <button class="view-btn" onclick="viewRoom(${room.id})">View Details</button>
                    </div>
                `;
                roomsGrid.appendChild(roomCard);
            });
        }

        function viewRoom(roomId) {
            localStorage.setItem('selectedRoomId', roomId);
            window.location.href = 'property.html';
        }

        function showNotification(message, type = 'info') {
            const existingNotifications = document.querySelectorAll('.notification');
            existingNotifications.forEach(notification => notification.remove());
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `<div class="notification-content"><span class="notification-icon">${getNotificationIcon(type)}</span><span class="notification-message">${message}</span><button class="notification-close" onclick="this.parentElement.parentElement.remove()">&times;</button></div>`;
            notification.style.cssText = `position: fixed; top: 100px; right: 20px; background: ${getNotificationColor(type)}; color: white; padding: 1rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); z-index: 10000; min-width: 300px; max-width: 400px; animation: slideInRight 0.3s ease;`;
            const content = notification.querySelector('.notification-content');
            content.style.cssText = `display: flex; align-items: center; gap: 10px;`;
            const closeBtn = notification.querySelector('.notification-close');
            closeBtn.style.cssText = `background: none; border: none; color: white; font-size: 1.2rem; cursor: pointer; margin-left: auto; padding: 0 5px;`;
            document.body.appendChild(notification);
            setTimeout(() => { if (notification.parentElement) { notification.style.animation = 'slideOutRight 0.3s ease'; setTimeout(() => notification.remove(), 300); } }, 4000);
        }

        function getNotificationIcon(type) { switch(type) { case 'success': return '✓'; case 'error': return '✗'; case 'warning': return '⚠'; default: return 'ℹ'; } }
        function getNotificationColor(type) { switch(type) { case 'success': return '#28a745'; case 'error': return '#dc3545'; case 'warning': return '#ffc107'; default: return '#007bff'; } }

        document.addEventListener('DOMContentLoaded', function() {
            if (typeof firebase !== 'undefined') { initializeFirebase(); } else { setTimeout(() => initializeFirebase(), 1000); }
            initializeMobileNavigation();
            loadRooms();
        });

        const style = document.createElement('style');
        style.textContent = `@keyframes slideInRight { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } } @keyframes slideOutRight { from { transform: translateX(0); opacity: 1; } to { transform: translateX(100%); opacity: 0; } }`;
        document.head.appendChild(style);
    </script>
</body>
</html>